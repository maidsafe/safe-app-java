build : false
environment:
  ANDROID_HOME: "C:\\android-sdk-windows"
  JAVA_HOME: "C:\\Program Files\\Java\\jdk1.8.0"
  
clone_folder: "C:\\projects\\android-gradle-java-app-template"

init:
  - cd \
  - appveyor DownloadFile https://dl.google.com/android/repository/sdk-tools-windows-3859397.zip
  - 7z x sdk-tools-windows-3859397.zip > nul
  - cd C:\projects\android-gradle-java-app-template

install:
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t tools
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t platform-tools
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t build-tools-26.0.2
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t android-26
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t extra-google-m2repository
  - echo y | "%ANDROID_HOME%\tools\android.bat" update sdk -u -a -t extra-android-m2repository
 
test_script:
 - gradlew.bat :api:check
 - gradlew.bat :safe-app:check
 

cache:
  - .gradle
  - C:\Users\appveyor\.gradle
  
